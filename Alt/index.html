<!DOCTYPE html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="Birde.js"></script>
		<script type="text/javascript">
		var load = function()
		{
			Birde.Init({
				Canvas : "targetCanvas"
			});

			for (var i = 0; i < 5; i++)
			{
				var f = B.Actor("test" + i, {
					x : 100 * i + 400,
					y : 400,
					z : -i,
					class : "SomeEnemy",
					w : 60 - i * 10,
					h : 60 - i * 10,
					angle : 0,
					rotSpeed : 5 * i,
					color : "rgb(" + (255 - i * 30) + "," + (i * 10) + "," + (i * 30) + ")"
				}).bind("draw", function(d)
				{
					d.DrawBounds(this);
				});

				if (i > 0)
					f.bind("step", function(dt)
					{
						this.angle += dt * this.rotSpeed;

						this.x = Math.cos(this.angle) * 50;

						this.y = Math.sin(this.angle) * 100;
					})
					.setParent("#test" + (i - 1));
			}

			B("#test0")
				.keyMovement(1000,
				{
					37 : 180,
					38 : 270,
					39 : 0,
					40 : 90
				});

			/*
			B("#test1")
				.attr({
					x : 60,
					y : -10,
					h : 60,
					w : 60,
					angle : 0
				})
				.bind("step", function(dt)
				{
					this.angle += dt * 5;

					this.x = Math.cos(this.angle) * 100;

					this.y = Math.sin(this.angle) * 100;
				})
				.setParent("#test0");

			B("#test2")
				.attr({
					x : 60,
					y : 60,
					h : 30,
					w : 30,
					angle : 0
				})
				.bind("step", function(dt)
				{
					this.angle += dt * 10;

					this.x = Math.cos(this.angle) * 100;

					this.y = Math.sin(this.angle) * 100;
				})
				.setParent("#test1");

				B("#test3")
				.attr({
					x : 60,
					y : 60,
					h : 10,
					w : 10,
					angle : 0
				})
				.bind("step", function(dt)
				{
					this.angle += dt * 15;

					this.x = Math.cos(this.angle) * 100;

					this.y = Math.sin(this.angle) * 100;
				})
				.setParent("#test2");
				*/

				/*
				.bind("keydown", function()
				{
					this.move({
						x : 200,
						y : 0
					});
				})
				*/

				/*
				.bind("step", function(dt)
				{
					this.move({
						x : 80,
						y : 10
					});
				});
				*/

			// Multi-class enemy test
			/*
			B.Actor("poopy", {
				class : "SomeEnemy SomeOtherEnemy",
				w : 50,
				h : 300
			}).bind("draw", function(d)
			{
				d.DrawBounds(this);
			}).bind("step", function(dt)
			{
				this.move({
					x : 20,
					y : 10
				});
			});
			*/

			B.ToggleFullScreen(); // disabled because broken in firefox
			B.Start();
		}

		if (document.addEventListener) {
			document.addEventListener("DOMContentLoaded", load, false);
		}
		else
		{
			window.onload = load;
		}
		</script>
	</head>
	<body>
		<canvas id="targetCanvas" width="800" height="600">
			Canvas not supported.
		</canvas>
	</body>
</html>